'use strict';
const _0x132a24 = _0x31b8;
function _0x55ed() {
    const _0x1a9c84 = [
        'default',
        'ync',
        'FILE_LOCAL',
        'xVsHj',
        'cOgiW',
        '537039itahoQ',
        'existsSync',
        '24JkpLNq',
        'deleteFile',
        '__decorate',
        '3664101iOcYxM',
        'path',
        '@nestjs/co',
        'sZcyB',
        'function',
        'YtBXr',
        'length',
        '1326252eboPXW',
        '15182163uHhWfg',
        'RQKvA',
        'forEach',
        'defineProp',
        'ptor',
        'readdirSyn',
        'mmon',
        '4XAYlVD',
        'getFiles',
        'BWtxO',
        'GwOGb',
        'join',
        'fs-extra',
        'writeFileS',
        'object',
        'getOwnProp',
        '_STORAGE_F',
        '2086888JxzsnM',
        'split',
        'erty',
        'decorate',
        '../../../e',
        'FeIif',
        'OLDER',
        'saveFile',
        'fileLocalF',
        'iALbP',
        '783383uxYOKb',
        'TAKAI',
        'readFileSy',
        '660430coYuSt',
        'getFileCon',
        'older',
        'ertyDescri',
        'hDnnu',
        'tent',
        'HGIjt',
        'pBaAx',
        'ROcEu',
        'mkdirSync',
        'NgaqJ',
        'BkEGU',
        'nv.js',
        '10shPGzA',
        'dVOkf',
        'unlinkSync',
        '__esModule',
        'dVoSZ',
        'Injectable',
        'xFEXc'
    ];
    _0x55ed = function () {
        return _0x1a9c84;
    };
    return _0x55ed();
}
function _0x31b8(_0x24d6ff, _0xb49b6e) {
    const _0x9d86c7 = _0x55ed();
    return _0x31b8 = function (_0x47409c, _0x5ac67d) {
        _0x47409c = _0x47409c - (0x1 * 0x12eb + 0x4dc + -0x170f);
        let _0x47d758 = _0x9d86c7[_0x47409c];
        return _0x47d758;
    }, _0x31b8(_0x24d6ff, _0xb49b6e);
}
(function (_0x57e314, _0x4d4e33) {
    const _0x299cb5 = _0x31b8, _0x207ce1 = _0x57e314();
    while (!![]) {
        try {
            const _0x2af3e8 = parseInt(_0x299cb5(0xe0)) / (-0x93d + -0x557 + 0xe95) + parseInt(_0x299cb5(0xcc)) / (0xa2b * 0x1 + -0x3 * -0xaf + -0x6 * 0x209) * (parseInt(_0x299cb5(0xb8)) / (-0x118b + -0x6 * 0x43c + 0x2af6)) + -parseInt(_0x299cb5(0xd6)) / (-0x1 * 0x24a3 + -0x143 * -0xd + 0x1440) + -parseInt(_0x299cb5(0xe3)) / (0x1640 + 0x17f * 0x1 + -0x17ba) + parseInt(_0x299cb5(0xc4)) / (-0x1f2a + 0xa * 0x347 + -0x196 * 0x1) + parseInt(_0x299cb5(0xbd)) / (-0x900 + -0x5 * -0x6ad + 0x81e * -0x3) * (-parseInt(_0x299cb5(0xba)) / (0x8e0 + 0x649 * 0x3 + -0x1bb3)) + parseInt(_0x299cb5(0xc5)) / (-0x1f57 + -0x1 * 0x815 + 0x2775) * (parseInt(_0x299cb5(0xf0)) / (-0x19ae + 0x243a * -0x1 + -0x6 * -0xa53));
            if (_0x2af3e8 === _0x4d4e33)
                break;
            else
                _0x207ce1['push'](_0x207ce1['shift']());
        } catch (_0x45a897) {
            _0x207ce1['push'](_0x207ce1['shift']());
        }
    }
}(_0x55ed, -0x5c1e3 + 0xbe82b * -0x2 + 0x9 * 0x4af4e));
var __decorate = this && this[_0x132a24(0xbc)] || function (_0x2c3cd5, _0x6afc6d, _0x338701, _0x150a5f) {
    const _0x4fe174 = _0x132a24, _0x5955f1 = {
            'GwOGb': function (_0x3d3392, _0x34a8c6) {
                return _0x3d3392 < _0x34a8c6;
            },
            'dVoSZ': function (_0x527ec9, _0x393f7b) {
                return _0x527ec9 === _0x393f7b;
            },
            'hDnnu': function (_0x56d3f7, _0x14a1d) {
                return _0x56d3f7 === _0x14a1d;
            },
            'TAKAI': _0x4fe174(0xd3),
            'FeIif': _0x4fe174(0xc1),
            'sZcyB': function (_0x3c94b0, _0xbf20a2) {
                return _0x3c94b0 - _0xbf20a2;
            },
            'RQKvA': function (_0x5902f0, _0x3d0ff8) {
                return _0x5902f0 >= _0x3d0ff8;
            },
            'BkEGU': function (_0x4d4636, _0x196e3c) {
                return _0x4d4636(_0x196e3c);
            },
            'NgaqJ': function (_0x5e88a1, _0x536a70) {
                return _0x5e88a1 > _0x536a70;
            },
            'iALbP': function (_0x5f1147, _0x1ed897, _0x5d9eb5, _0x132c2b) {
                return _0x5f1147(_0x1ed897, _0x5d9eb5, _0x132c2b);
            },
            'YtBXr': function (_0x1ef4ff, _0x5a8242, _0x5b32c3) {
                return _0x1ef4ff(_0x5a8242, _0x5b32c3);
            },
            'xVsHj': function (_0x4b050f, _0x54cff7) {
                return _0x4b050f > _0x54cff7;
            }
        };
    var _0x1775f1 = arguments[_0x4fe174(0xc3)], _0x311e00 = _0x5955f1[_0x4fe174(0xcf)](_0x1775f1, -0x1251 + -0x1f8c + 0x428 * 0xc) ? _0x6afc6d : _0x5955f1[_0x4fe174(0xf4)](_0x150a5f, null) ? _0x150a5f = Object[_0x4fe174(0xd4) + _0x4fe174(0xe6) + _0x4fe174(0xc9)](_0x6afc6d, _0x338701) : _0x150a5f, _0x49fbea;
    if (_0x5955f1[_0x4fe174(0xe7)](typeof Reflect, _0x5955f1[_0x4fe174(0xe1)]) && _0x5955f1[_0x4fe174(0xe7)](typeof Reflect[_0x4fe174(0xd9)], _0x5955f1[_0x4fe174(0xdb)]))
        _0x311e00 = Reflect[_0x4fe174(0xd9)](_0x2c3cd5, _0x6afc6d, _0x338701, _0x150a5f);
    else {
        for (var _0x18a5ca = _0x5955f1[_0x4fe174(0xc0)](_0x2c3cd5[_0x4fe174(0xc3)], -0xe3b + 0xb * 0x277 + 0x9d * -0x15); _0x5955f1[_0x4fe174(0xc6)](_0x18a5ca, -0x1 * 0x7bd + -0x572 * -0x3 + -0x899); _0x18a5ca--)
            if (_0x49fbea = _0x2c3cd5[_0x18a5ca])
                _0x311e00 = (_0x5955f1[_0x4fe174(0xcf)](_0x1775f1, -0x655 * 0x3 + -0x1 * 0x143e + 0x2740) ? _0x5955f1[_0x4fe174(0xee)](_0x49fbea, _0x311e00) : _0x5955f1[_0x4fe174(0xed)](_0x1775f1, -0x18 * -0xee + -0xd99 * 0x2 + 0x4e5) ? _0x5955f1[_0x4fe174(0xdf)](_0x49fbea, _0x6afc6d, _0x338701, _0x311e00) : _0x5955f1[_0x4fe174(0xc2)](_0x49fbea, _0x6afc6d, _0x338701)) || _0x311e00;
    }
    return _0x5955f1[_0x4fe174(0xfa)](_0x1775f1, -0x2 * 0x7d3 + 0x2 * 0x22f + -0x7 * -0x19d) && _0x311e00 && Object[_0x4fe174(0xc8) + _0x4fe174(0xd8)](_0x6afc6d, _0x338701, _0x311e00), _0x311e00;
};
Object[_0x132a24(0xc8) + _0x132a24(0xd8)](exports, _0x132a24(0xf3), { 'value': !![] });
const common_1 = require(_0x132a24(0xbf) + _0x132a24(0xcb)), fs = require(_0x132a24(0xd1)), env = require(_0x132a24(0xda) + _0x132a24(0xef)), path = require(_0x132a24(0xbe));
let UploadService = class UploadService {
    constructor() {
        const _0x9a9b42 = _0x132a24;
        this[_0x9a9b42(0xde) + _0x9a9b42(0xe5)] = env[_0x9a9b42(0xf9) + _0x9a9b42(0xd5) + _0x9a9b42(0xdc)];
    }
    async [_0x132a24(0xdd)]({
        str: _0x348312,
        filename: _0x179851,
        folderPath: _0xb6bcad
    }) {
        const _0x458709 = _0x132a24, _0x3acc9b = {
                'dVOkf': function (_0xb397f6, _0x257a28) {
                    return _0xb397f6 + _0x257a28;
                },
                'HGIjt': function (_0xe38e96, _0x295f65) {
                    return _0xe38e96 === _0x295f65;
                },
                'cOgiW': function (_0x14c271, _0x46bdec) {
                    return _0x14c271 === _0x46bdec;
                },
                'ROcEu': function (_0x5dc8dc, _0x4259aa) {
                    return _0x5dc8dc === _0x4259aa;
                }
            };
        !fs[_0x458709(0xb9)](this[_0x458709(0xde) + _0x458709(0xe5)]) && fs[_0x458709(0xec)](this[_0x458709(0xde) + _0x458709(0xe5)]);
        if (_0xb6bcad) {
            const _0x2e21f3 = _0x3acc9b[_0x458709(0xe9)](_0xb6bcad, null) || _0x3acc9b[_0x458709(0xfb)](_0xb6bcad, void (-0x1d2a + -0x269 + 0x1f93)) ? void (0x144e + -0xb59 + -0x1 * 0x8f5) : _0xb6bcad[_0x458709(0xd7)]('/');
            let _0x492dd6 = '';
            _0x3acc9b[_0x458709(0xe9)](_0x2e21f3, null) || _0x3acc9b[_0x458709(0xeb)](_0x2e21f3, void (0x1ab5 + -0x59 * 0x3b + -0x632)) ? void (-0xd59 + 0x1 * -0x23d4 + 0x312d) : _0x2e21f3[_0x458709(0xc7)](_0x5dec0c => {
                const _0x2cd300 = _0x458709;
                if (_0x5dec0c) {
                    _0x492dd6 = _0x3acc9b[_0x2cd300(0xf1)](_0x492dd6, '/' + _0x5dec0c);
                    const _0x53fab4 = path[_0x2cd300(0xd0)](this[_0x2cd300(0xde) + _0x2cd300(0xe5)], _0x492dd6);
                    !fs[_0x2cd300(0xb9)](_0x53fab4) && fs[_0x2cd300(0xec)](_0x53fab4);
                }
            });
        }
        let _0x1b0c32 = this[_0x458709(0xde) + _0x458709(0xe5)] + '/' + _0x179851;
        return _0xb6bcad && (_0x1b0c32 = this[_0x458709(0xde) + _0x458709(0xe5)] + '/' + _0xb6bcad + '/' + _0x179851), fs[_0x458709(0xd2) + _0x458709(0xf8)](_0x1b0c32, _0x348312), _0xb6bcad ? _0xb6bcad + '/' + _0x179851 : '/' + _0x179851;
    }
    async [_0x132a24(0xcd)]({subPath: _0x2b2775}) {
        const _0x40c50b = _0x132a24, _0x5d9e14 = {
                'pBaAx': function (_0x4b4a1b, _0x2d86a9) {
                    return _0x4b4a1b === _0x2d86a9;
                },
                'BWtxO': function (_0x3c903d, _0x3833eb) {
                    return _0x3c903d === _0x3833eb;
                },
                'xFEXc': function (_0x4ea766, _0x4af8a9) {
                    return _0x4ea766 === _0x4af8a9;
                }
            };
        let _0x3f9ddc = path[_0x40c50b(0xd0)](this[_0x40c50b(0xde) + _0x40c50b(0xe5)], _0x2b2775), _0x1edf78 = {};
        if (fs[_0x40c50b(0xb9)](_0x3f9ddc)) {
            const _0x24f099 = fs[_0x40c50b(0xca) + 'c'](_0x3f9ddc);
            return (_0x5d9e14[_0x40c50b(0xea)](_0x24f099, null) || _0x5d9e14[_0x40c50b(0xf6)](_0x24f099, void (0xe74 + -0xecb * -0x2 + -0x2c0a)) ? void (-0x1511 * 0x1 + -0x1c2a + 0x313b) : _0x24f099[_0x40c50b(0xc7)](_0x166ac3 => {
                const _0x354458 = _0x40c50b;
                let [_0x8166d5, _0x375f5a] = _0x5d9e14[_0x354458(0xea)](_0x166ac3, null) || _0x5d9e14[_0x354458(0xce)](_0x166ac3, void (0x260b * 0x1 + -0xc * 0x25c + -0x9bb * 0x1)) ? void (-0x468 + -0x26 * -0xba + -0x1734) : _0x166ac3[_0x354458(0xd7)]('.');
                _0x1edf78[_0x8166d5] = path[_0x354458(0xd0)](_0x3f9ddc, _0x166ac3);
            })) || [], _0x1edf78;
        } else
            return _0x1edf78;
    }
    async [_0x132a24(0xe4) + _0x132a24(0xe8)](_0x17e60b) {
        const _0x50751c = _0x132a24;
        let _0x243d26 = path[_0x50751c(0xd0)](this[_0x50751c(0xde) + _0x50751c(0xe5)], _0x17e60b), _0x44b955 = null;
        if (fs[_0x50751c(0xb9)](_0x243d26)) {
            const _0x4c7301 = fs[_0x50751c(0xe2) + 'nc'](_0x243d26);
            return _0x4c7301;
        } else
            return _0x44b955;
    }
    async [_0x132a24(0xbb)]({
        subPath: _0x5bf48c,
        fullPath: _0x605040
    }) {
        const _0x3a3428 = _0x132a24;
        let _0x2fdc98;
        if (_0x605040)
            _0x2fdc98 = _0x605040;
        else
            _0x5bf48c && (_0x2fdc98 = path[_0x3a3428(0xd0)](this[_0x3a3428(0xde) + _0x3a3428(0xe5)], _0x5bf48c));
        return fs[_0x3a3428(0xb9)](_0x2fdc98) && fs[_0x3a3428(0xf2)](_0x2fdc98), !![];
    }
};
UploadService = __decorate([(-0x1eb3 * 0x1 + -0x77 * 0x53 + 0xc * 0x5c6, common_1[_0x132a24(0xf5)])()], UploadService), exports[_0x132a24(0xf7)] = UploadService;