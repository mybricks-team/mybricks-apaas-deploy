'use strict';
const _0x1d242a = _0x2d3c;
function _0x2d3c(_0x4ce7c1, _0x41e3ea) {
    const _0x388c53 = _0x4198();
    return _0x2d3c = function (_0x3b4b6f, _0x270d23) {
        _0x3b4b6f = _0x3b4b6f - (-0x41b * 0x1 + 0x2 * 0x62f + -0x6d7);
        let _0x11749f = _0x388c53[_0x3b4b6f];
        return _0x11749f;
    }, _0x2d3c(_0x4ce7c1, _0x41e3ea);
}
function _0x4198() {
    const _0x1c1f46 = [
        'saveFile',
        'object',
        'REFIX_RUNT',
        '/project',
        'fileId',
        'getFileCon',
        'UjXfR',
        'eProjectFi',
        'function',
        'fs-extra',
        'eServiceFi',
        'Pdpzx',
        'Injectable',
        '@nestjs/co',
        '../upload/',
        'erviceOfPr',
        '3LdPmBt',
        '__decorate',
        '/project/',
        'OLvKP',
        'isArray',
        '12122866cSvcSs',
        'nv.js',
        'upload.ser',
        'defineProp',
        'ice',
        'vice',
        'roject/',
        'stringify',
        '6814290tBdlcc',
        'oTEby',
        'IME',
        'iXICv',
        '_STORAGE_P',
        'DGvWO',
        'decorate',
        '__metadata',
        'aXLll',
        '__esModule',
        'amtypes',
        'updateProj',
        'ojectAndFi',
        'fileName',
        'map',
        'batchDelet',
        'rWVOX',
        'tent',
        'ukLAO',
        'cvTwK',
        'ectModuleB',
        '../../../e',
        '40671cKaoAJ',
        'path',
        'fQxgq',
        'DUXHi',
        'erty',
        'leOfProjec',
        'design:par',
        '3032cbsGqE',
        'wfYDb',
        'getFiles',
        'uploadServ',
        'ertyDescri',
        'getOnlineS',
        '2IulJtX',
        '25498jlKYUl',
        'parse',
        'hnrxR',
        '134387MylFfp',
        'assign',
        'FILE_LOCAL',
        '11420Fdepzd',
        'default',
        'some',
        'AVrFX',
        'getOwnProp',
        'LnXQQ',
        '229648NkqjjW',
        '.js',
        'batchCreat',
        'content',
        'all',
        'JjEMt',
        'asicInfo',
        'mmon',
        '/staging/p',
        'staging',
        'length',
        'deleteFile',
        'ptor',
        'MCIMO',
        'roject',
        '2032745BMHYrX',
        'metadata'
    ];
    _0x4198 = function () {
        return _0x1c1f46;
    };
    return _0x4198();
}
(function (_0x211c78, _0x21a090) {
    const _0x2ea4c0 = _0x2d3c, _0x29333c = _0x211c78();
    while (!![]) {
        try {
            const _0x35060d = parseInt(_0x2ea4c0(0x186)) / (-0x16e * 0x7 + -0x1 * 0x20e3 + -0x286 * -0x11) * (-parseInt(_0x2ea4c0(0x182)) / (0x4a2 + 0xe52 + -0x12f2)) + parseInt(_0x2ea4c0(0x1b0)) / (-0x1 * 0x195b + -0x6f7 + 0x10b * 0x1f) * (-parseInt(_0x2ea4c0(0x18f)) / (-0xdaf + 0x1 * -0x2dd + 0x1090)) + -parseInt(_0x2ea4c0(0x19e)) / (-0x23ce + 0x87 * -0x1f + 0x342c) + -parseInt(_0x2ea4c0(0x1bd)) / (0x67f * 0x5 + 0x691 * -0x3 + -0x17 * 0x8e) + -parseInt(_0x2ea4c0(0x1b5)) / (0x1bf9 + -0xb7 * -0x1b + -0x2f3f) + parseInt(_0x2ea4c0(0x17c)) / (0xf74 * 0x1 + 0xe59 + -0x1dc5) * (parseInt(_0x2ea4c0(0x175)) / (0xd84 + 0x8 * -0x15b + -0x2a3)) + parseInt(_0x2ea4c0(0x189)) / (0x1629 + 0x1ee8 * 0x1 + -0x3507) * (parseInt(_0x2ea4c0(0x183)) / (-0x228 + 0xd * 0x1cd + -0x1536));
            if (_0x35060d === _0x21a090)
                break;
            else
                _0x29333c['push'](_0x29333c['shift']());
        } catch (_0xc2a4c8) {
            _0x29333c['push'](_0x29333c['shift']());
        }
    }
}(_0x4198, 0xd696 * 0x17 + -0x418 * 0x210 + -0x2ce0a * -0x1));
var __decorate = this && this[_0x1d242a(0x1b1)] || function (_0xf25784, _0x1b2650, _0x3d0aef, _0x303ec0) {
        const _0x3c85fa = _0x1d242a, _0x43145f = {
                'UjXfR': function (_0x32637c, _0x31a4f7) {
                    return _0x32637c < _0x31a4f7;
                },
                'oTEby': function (_0x4a2f30, _0x355344) {
                    return _0x4a2f30 === _0x355344;
                },
                'Pdpzx': function (_0x46364a, _0x4193fa) {
                    return _0x46364a === _0x4193fa;
                },
                'DUXHi': _0x3c85fa(0x1a1),
                'LnXQQ': _0x3c85fa(0x1a8),
                'DGvWO': function (_0x1c27ce, _0x8a62ff) {
                    return _0x1c27ce - _0x8a62ff;
                },
                'OLvKP': function (_0x576ccc, _0x16f908) {
                    return _0x576ccc >= _0x16f908;
                },
                'MCIMO': function (_0x24bb97, _0x5485b8) {
                    return _0x24bb97(_0x5485b8);
                },
                'wfYDb': function (_0x2acb0f, _0x218352) {
                    return _0x2acb0f > _0x218352;
                },
                'rWVOX': function (_0x379290, _0xa00610, _0x162f39, _0x29ed52) {
                    return _0x379290(_0xa00610, _0x162f39, _0x29ed52);
                },
                'iXICv': function (_0x24fe68, _0x161130, _0x4f7de7) {
                    return _0x24fe68(_0x161130, _0x4f7de7);
                }
            };
        var _0x5f4d7f = arguments[_0x3c85fa(0x199)], _0x5a1cf9 = _0x43145f[_0x3c85fa(0x1a6)](_0x5f4d7f, -0x14b2 * -0x1 + 0x6da * 0x1 + -0x35 * 0x85) ? _0x1b2650 : _0x43145f[_0x3c85fa(0x1be)](_0x303ec0, null) ? _0x303ec0 = Object[_0x3c85fa(0x18d) + _0x3c85fa(0x180) + _0x3c85fa(0x19b)](_0x1b2650, _0x3d0aef) : _0x303ec0, _0xdd90fd;
        if (_0x43145f[_0x3c85fa(0x1ab)](typeof Reflect, _0x43145f[_0x3c85fa(0x178)]) && _0x43145f[_0x3c85fa(0x1ab)](typeof Reflect[_0x3c85fa(0x1c3)], _0x43145f[_0x3c85fa(0x18e)]))
            _0x5a1cf9 = Reflect[_0x3c85fa(0x1c3)](_0xf25784, _0x1b2650, _0x3d0aef, _0x303ec0);
        else {
            for (var _0xbed968 = _0x43145f[_0x3c85fa(0x1c2)](_0xf25784[_0x3c85fa(0x199)], -0x3 * 0x1e5 + -0x287 + -0x837 * -0x1); _0x43145f[_0x3c85fa(0x1b3)](_0xbed968, -0x169 + 0x22b5 + 0x2 * -0x10a6); _0xbed968--)
                if (_0xdd90fd = _0xf25784[_0xbed968])
                    _0x5a1cf9 = (_0x43145f[_0x3c85fa(0x1a6)](_0x5f4d7f, -0x164 + 0x13 * 0x97 + 0x2 * -0x4e7) ? _0x43145f[_0x3c85fa(0x19c)](_0xdd90fd, _0x5a1cf9) : _0x43145f[_0x3c85fa(0x17d)](_0x5f4d7f, -0x904 + 0x1 * -0x1d6b + -0xe * -0x2bf) ? _0x43145f[_0x3c85fa(0x16f)](_0xdd90fd, _0x1b2650, _0x3d0aef, _0x5a1cf9) : _0x43145f[_0x3c85fa(0x1c0)](_0xdd90fd, _0x1b2650, _0x3d0aef)) || _0x5a1cf9;
        }
        return _0x43145f[_0x3c85fa(0x17d)](_0x5f4d7f, 0x1a5f + 0x6f * -0x16 + -0x10d2) && _0x5a1cf9 && Object[_0x3c85fa(0x1b8) + _0x3c85fa(0x179)](_0x1b2650, _0x3d0aef, _0x5a1cf9), _0x5a1cf9;
    }, __metadata = this && this[_0x1d242a(0x1c4)] || function (_0xdf4adc, _0x12304d) {
        const _0x48260a = _0x1d242a, _0x2da246 = {
                'cvTwK': function (_0xe5741b, _0x1710a4) {
                    return _0xe5741b === _0x1710a4;
                },
                'aXLll': _0x48260a(0x1a1),
                'JjEMt': function (_0x179dbd, _0x4467f3) {
                    return _0x179dbd === _0x4467f3;
                },
                'AVrFX': _0x48260a(0x1a8)
            };
        if (_0x2da246[_0x48260a(0x172)](typeof Reflect, _0x2da246[_0x48260a(0x1c5)]) && _0x2da246[_0x48260a(0x194)](typeof Reflect[_0x48260a(0x19f)], _0x2da246[_0x48260a(0x18c)]))
            return Reflect[_0x48260a(0x19f)](_0xdf4adc, _0x12304d);
    };
Object[_0x1d242a(0x1b8) + _0x1d242a(0x179)](exports, _0x1d242a(0x1c6), { 'value': !![] });
const common_1 = require(_0x1d242a(0x1ad) + _0x1d242a(0x196)), fs = require(_0x1d242a(0x1a9)), env = require(_0x1d242a(0x174) + _0x1d242a(0x1b6)), path = require(_0x1d242a(0x176)), upload_service_1 = require(_0x1d242a(0x1ae) + _0x1d242a(0x1b7) + _0x1d242a(0x1ba));
let FlowService = class FlowService {
    constructor() {
        const _0x5452c8 = _0x1d242a;
        this[_0x5452c8(0x17f) + _0x5452c8(0x1b9)] = new upload_service_1[(_0x5452c8(0x18a))]();
    }
    async [_0x1d242a(0x191) + _0x1d242a(0x1a7) + 'le']({
        codeStrList: _0x5475af,
        projectId: _0x5236c6,
        envType: _0x1216f7
    }, {domainName: _0x4f9958}) {
        const _0x4c0123 = _0x1d242a, _0x23046e = {
                'hnrxR': function (_0x283e84, _0x3f233a) {
                    return _0x283e84 === _0x3f233a;
                },
                'fQxgq': _0x4c0123(0x198),
                'ukLAO': _0x4c0123(0x197) + _0x4c0123(0x19d)
            };
        let _0x22a8c3;
        _0x5236c6 ? _0x23046e[_0x4c0123(0x185)](_0x1216f7, _0x23046e[_0x4c0123(0x177)]) ? _0x22a8c3 = _0x4c0123(0x197) + _0x4c0123(0x1bb) + _0x5236c6 : _0x22a8c3 = _0x4c0123(0x1b2) + _0x5236c6 : _0x23046e[_0x4c0123(0x185)](_0x1216f7, _0x23046e[_0x4c0123(0x177)]) ? _0x22a8c3 = _0x23046e[_0x4c0123(0x171)] : _0x22a8c3 = _0x4c0123(0x1a3);
        const _0x391b61 = await Promise[_0x4c0123(0x193)](_0x5475af[_0x4c0123(0x16d)](_0x3f94f7 => {
            const _0x9a11f6 = _0x4c0123;
            return this[_0x9a11f6(0x17f) + _0x9a11f6(0x1b9)][_0x9a11f6(0x1a0)]({
                'str': _0x3f94f7[_0x9a11f6(0x192)],
                'filename': _0x3f94f7[_0x9a11f6(0x16c)],
                'folderPath': _0x3f94f7[_0x9a11f6(0x1a4)] ? _0x22a8c3 + '/' + _0x3f94f7[_0x9a11f6(0x1a4)] : '' + _0x22a8c3
            });
        }));
        if (Array[_0x4c0123(0x1b4)](_0x391b61) && _0x391b61[_0x4c0123(0x199)] && !_0x391b61[_0x4c0123(0x18b)](_0x397824 => !_0x397824))
            return _0x23046e[_0x4c0123(0x185)](_0x391b61, null) || _0x23046e[_0x4c0123(0x185)](_0x391b61, void (0xeca * -0x1 + 0x1 * 0xaa7 + -0x161 * -0x3)) ? void (0x1d69 + 0x1a17 + -0x3780) : _0x391b61[_0x4c0123(0x16d)]((_0x5eb017, _0x1efb6b) => {
                const _0x203aea = _0x4c0123;
                return {
                    'fileId': _0x5475af[_0x1efb6b][_0x203aea(0x1a4)],
                    'url': _0x4f9958 + '/' + env[_0x203aea(0x188) + _0x203aea(0x1c1) + _0x203aea(0x1a2) + _0x203aea(0x1bf)] + _0x5eb017
                };
            });
    }
    async [_0x1d242a(0x16e) + _0x1d242a(0x1aa) + _0x1d242a(0x17a) + 't']({
        serviceList: _0x5c8355,
        projectId: _0x48d0d0
    }) {
        const _0x4d2b56 = _0x1d242a;
        let _0xedbeed = _0x4d2b56(0x1a3);
        return _0x48d0d0 && (_0xedbeed = _0x4d2b56(0x1b2) + _0x48d0d0), await Promise[_0x4d2b56(0x193)](_0x5c8355[_0x4d2b56(0x16d)](({
            fileId: _0x51c980,
            serviceId: _0x440c50
        }) => {
            const _0xab4206 = _0x4d2b56;
            let _0x2877b5 = _0xedbeed + '/' + _0x51c980 + '/' + _0x440c50 + _0xab4206(0x190);
            return this[_0xab4206(0x17f) + _0xab4206(0x1b9)][_0xab4206(0x19a)]({ 'subPath': _0x2877b5 });
        })), !![];
    }
    async [_0x1d242a(0x16e) + _0x1d242a(0x1aa) + 'le']({serviceFilesFullPath: _0x22dd32}) {
        const _0x219cad = _0x1d242a;
        return await Promise[_0x219cad(0x193)](_0x22dd32[_0x219cad(0x16d)](_0x417050 => {
            const _0x298886 = _0x219cad;
            return this[_0x298886(0x17f) + _0x298886(0x1b9)][_0x298886(0x19a)]({ 'fullPath': _0x417050 });
        })), !![];
    }
    async [_0x1d242a(0x1c8) + _0x1d242a(0x173) + _0x1d242a(0x195)]({
        obj: _0x49f168,
        filename: _0xad80f0,
        folderPath: _0x532735
    }) {
        const _0x50b34d = _0x1d242a;
        try {
            const _0xf33832 = await this[_0x50b34d(0x17f) + _0x50b34d(0x1b9)][_0x50b34d(0x1a5) + _0x50b34d(0x170)](_0x532735 + '/' + _0xad80f0);
            if (_0xf33832) {
                const _0x59f9f7 = JSON[_0x50b34d(0x184)](_0xf33832);
                let _0x14abf7 = Object[_0x50b34d(0x187)]({}, _0x59f9f7, _0x49f168);
                await this[_0x50b34d(0x17f) + _0x50b34d(0x1b9)][_0x50b34d(0x1a0)]({
                    'str': JSON[_0x50b34d(0x1bc)](_0x14abf7),
                    'filename': _0xad80f0,
                    'folderPath': _0x532735
                });
            } else
                await this[_0x50b34d(0x17f) + _0x50b34d(0x1b9)][_0x50b34d(0x1a0)]({
                    'str': JSON[_0x50b34d(0x1bc)](_0x49f168),
                    'filename': _0xad80f0,
                    'folderPath': _0x532735
                });
        } catch (_0x4e92cb) {
        }
    }
    async [_0x1d242a(0x181) + _0x1d242a(0x1af) + _0x1d242a(0x1c9) + 'le']({
        projectId: _0x515c25,
        domainFileId: _0x37dcb7
    }) {
        const _0x4dc8c7 = _0x1d242a;
        let _0xbb8d44 = _0x4dc8c7(0x1a3);
        _0x515c25 && (_0xbb8d44 = _0x4dc8c7(0x1b2) + _0x515c25);
        _0xbb8d44 = _0xbb8d44 + '/' + _0x37dcb7;
        const _0x5770c6 = this[_0x4dc8c7(0x17f) + _0x4dc8c7(0x1b9)][_0x4dc8c7(0x17e)]({ 'subPath': _0xbb8d44 });
        return _0x5770c6;
    }
    async [_0x1d242a(0x1a0)](_0x46102a) {
        const _0x26f3e2 = _0x1d242a;
        return await this[_0x26f3e2(0x17f) + _0x26f3e2(0x1b9)][_0x26f3e2(0x1a0)](_0x46102a);
    }
};
FlowService = __decorate([
    (-0x2422 + 0x3 * -0x961 + 0x4045, common_1[_0x1d242a(0x1ac)])(),
    __metadata(_0x1d242a(0x17b) + _0x1d242a(0x1c7), [])
], FlowService), exports[_0x1d242a(0x18a)] = FlowService;