'use strict';
const _0x2ccd4c = _0x9fe8;
function _0x9fe8(_0x2ad85e, _0x555c70) {
    const _0x242cf2 = _0x4462();
    return _0x9fe8 = function (_0x598ac1, _0x339713) {
        _0x598ac1 = _0x598ac1 - (-0x56b * -0x6 + -0x1 * -0x153a + -0x352c);
        let _0x4fba58 = _0x242cf2[_0x598ac1];
        return _0x4fba58;
    }, _0x9fe8(_0x2ad85e, _0x555c70);
}
(function (_0x42e825, _0x58ddd4) {
    const _0x1656ec = _0x9fe8, _0x18ccf6 = _0x42e825();
    while (!![]) {
        try {
            const _0x5d9f83 = parseInt(_0x1656ec(0xe6)) / (-0x1 * -0x2391 + 0x173 * 0x11 + -0x1411 * 0x3) * (parseInt(_0x1656ec(0xa2)) / (0x2444 + 0x118 * -0xb + -0x183a)) + -parseInt(_0x1656ec(0x9d)) / (-0x353 * 0x1 + -0xfc4 + 0x5 * 0x3d2) + parseInt(_0x1656ec(0xd7)) / (-0x68e + -0x1625 + 0x1cb7) + parseInt(_0x1656ec(0xcc)) / (0x1069 + 0x3 * 0x93a + -0x1609 * 0x2) * (-parseInt(_0x1656ec(0xd0)) / (0x210a + 0x31 * 0x9d + -0x1 * 0x3f11)) + -parseInt(_0x1656ec(0xd4)) / (-0x730 + -0x1ada + 0x2211) + -parseInt(_0x1656ec(0xba)) / (-0x12dc + 0x43 * -0x1f + 0x1b01 * 0x1) * (-parseInt(_0x1656ec(0xa7)) / (0x15e3 * -0x1 + 0x2 * 0xf4 + 0x1404)) + parseInt(_0x1656ec(0x92)) / (-0x3d7 * 0x6 + -0x26b4 * -0x1 + 0x3e8 * -0x4);
            if (_0x5d9f83 === _0x58ddd4)
                break;
            else
                _0x18ccf6['push'](_0x18ccf6['shift']());
        } catch (_0x39a679) {
            _0x18ccf6['push'](_0x18ccf6['shift']());
        }
    }
}(_0x4462, -0x11a76b + -0x11adcd + 0x2ecc7f));
var __decorate = this && this[_0x2ccd4c(0xa1)] || function (_0xd67be1, _0x372b43, _0x4e7665, _0x2c4ecc) {
        const _0x1830e5 = _0x2ccd4c, _0x1d214f = {
                'letTu': function (_0x55095e, _0x2d9bb3) {
                    return _0x55095e < _0x2d9bb3;
                },
                'Adyot': function (_0x2913ef, _0xd3c9ff) {
                    return _0x2913ef === _0xd3c9ff;
                },
                'RLzQS': function (_0x19f267, _0x1b898) {
                    return _0x19f267 === _0x1b898;
                },
                'OGiTc': _0x1830e5(0x96),
                'YlRmz': function (_0xf79dd3, _0x193f5a) {
                    return _0xf79dd3 === _0x193f5a;
                },
                'AmXAS': _0x1830e5(0xa5),
                'KYhEu': function (_0x4e84d9, _0x195b4c) {
                    return _0x4e84d9 - _0x195b4c;
                },
                'IRfKc': function (_0x1c74e1, _0x2b0713) {
                    return _0x1c74e1 >= _0x2b0713;
                },
                'edJCp': function (_0x49bf8d, _0x4e0525) {
                    return _0x49bf8d(_0x4e0525);
                },
                'wlLLV': function (_0x1b56d6, _0x32c35b) {
                    return _0x1b56d6 > _0x32c35b;
                },
                'VKgTX': function (_0x1f7db1, _0x366480, _0x5a8435, _0x49996e) {
                    return _0x1f7db1(_0x366480, _0x5a8435, _0x49996e);
                },
                'WSLYB': function (_0xe9dbf7, _0x3cd8a4, _0x30d00a) {
                    return _0xe9dbf7(_0x3cd8a4, _0x30d00a);
                }
            };
        var _0x4be640 = arguments[_0x1830e5(0x95)], _0x1863e1 = _0x1d214f[_0x1830e5(0xa3)](_0x4be640, -0x401 + -0x13f9 + 0x17fd) ? _0x372b43 : _0x1d214f[_0x1830e5(0xb4)](_0x2c4ecc, null) ? _0x2c4ecc = Object[_0x1830e5(0xc8) + _0x1830e5(0xc4) + _0x1830e5(0xd2)](_0x372b43, _0x4e7665) : _0x2c4ecc, _0x219ffa;
        if (_0x1d214f[_0x1830e5(0xdc)](typeof Reflect, _0x1d214f[_0x1830e5(0x98)]) && _0x1d214f[_0x1830e5(0xb0)](typeof Reflect[_0x1830e5(0xa8)], _0x1d214f[_0x1830e5(0xcd)]))
            _0x1863e1 = Reflect[_0x1830e5(0xa8)](_0xd67be1, _0x372b43, _0x4e7665, _0x2c4ecc);
        else {
            for (var _0x51f018 = _0x1d214f[_0x1830e5(0xb3)](_0xd67be1[_0x1830e5(0x95)], -0x16f * 0x7 + 0xee0 + -0x4d6); _0x1d214f[_0x1830e5(0xa4)](_0x51f018, 0x4a1 * 0x1 + 0x3 * -0x228 + -0x3 * -0x9d); _0x51f018--)
                if (_0x219ffa = _0xd67be1[_0x51f018])
                    _0x1863e1 = (_0x1d214f[_0x1830e5(0xa3)](_0x4be640, -0x4cd + -0xb11 * 0x2 + 0x1af2) ? _0x1d214f[_0x1830e5(0xc7)](_0x219ffa, _0x1863e1) : _0x1d214f[_0x1830e5(0x99)](_0x4be640, 0x22 * -0xa7 + 0xf61 + 0x6d0) ? _0x1d214f[_0x1830e5(0x9e)](_0x219ffa, _0x372b43, _0x4e7665, _0x1863e1) : _0x1d214f[_0x1830e5(0x9b)](_0x219ffa, _0x372b43, _0x4e7665)) || _0x1863e1;
        }
        return _0x1d214f[_0x1830e5(0x99)](_0x4be640, -0x329 * -0x4 + -0x1 * 0x1b7b + 0xeda) && _0x1863e1 && Object[_0x1830e5(0x9f) + _0x1830e5(0xc3)](_0x372b43, _0x4e7665, _0x1863e1), _0x1863e1;
    }, __metadata = this && this[_0x2ccd4c(0xac)] || function (_0x394c31, _0x3af318) {
        const _0x19b1b1 = _0x2ccd4c, _0x1569b8 = {
                'cEWnl': function (_0xe1b5ae, _0x2b3545) {
                    return _0xe1b5ae === _0x2b3545;
                },
                'HnKyd': _0x19b1b1(0x96),
                'dnjXW': _0x19b1b1(0xa5)
            };
        if (_0x1569b8[_0x19b1b1(0xc5)](typeof Reflect, _0x1569b8[_0x19b1b1(0xce)]) && _0x1569b8[_0x19b1b1(0xc5)](typeof Reflect[_0x19b1b1(0xe7)], _0x1569b8[_0x19b1b1(0xde)]))
            return Reflect[_0x19b1b1(0xe7)](_0x394c31, _0x3af318);
    };
Object[_0x2ccd4c(0x9f) + _0x2ccd4c(0xc3)](exports, _0x2ccd4c(0x91), { 'value': !![] });
const common_1 = require(_0x2ccd4c(0xc6) + _0x2ccd4c(0xcb)), FileContentDao_1 = require(_0x2ccd4c(0xad) + _0x2ccd4c(0xbb) + _0x2ccd4c(0xe0)), FileDao_1 = require(_0x2ccd4c(0xad) + _0x2ccd4c(0xbe)), filePub_dao_1 = require(_0x2ccd4c(0xad) + _0x2ccd4c(0xaa) + 'o');
let FileService = class FileService {
    constructor() {
        const _0x44b771 = _0x2ccd4c;
        this[_0x44b771(0xcf)] = new FileDao_1[(_0x44b771(0xc1))](), this[_0x44b771(0xdd) + _0x44b771(0xe0)] = new FileContentDao_1[(_0x44b771(0xc1))](), this[_0x44b771(0x94)] = new filePub_dao_1[(_0x44b771(0xc1))]();
    }
    async [_0x2ccd4c(0xd9) + _0x2ccd4c(0xe3)](_0x56825a) {
        const _0x4303f3 = _0x2ccd4c, _0x487a0a = {
                'PxyYD': function (_0x3d6978, _0x5b3c25) {
                    return _0x3d6978 || _0x5b3c25;
                }
            }, {
                pageSize: _0x14f3da,
                page: _0x3bc054,
                extName: _0x1b0e37
            } = _0x487a0a[_0x4303f3(0xd3)](_0x56825a, {});
        return await this[_0x4303f3(0xcf)][_0x4303f3(0xd9) + _0x4303f3(0xe3)]({
            'pageSize': _0x14f3da,
            'page': _0x3bc054,
            'shareType': 0x1,
            'extName': _0x1b0e37
        });
    }
    async [_0x2ccd4c(0xe8) + _0x2ccd4c(0xb7)](_0x4bf95e) {
        const _0x4fbfa0 = _0x2ccd4c;
        return await this[_0x4fbfa0(0xcf)][_0x4fbfa0(0xe8) + _0x4fbfa0(0xb7)]({
            'shareType': 0x1,
            'extName': _0x4bf95e
        });
    }
    async [_0x2ccd4c(0xb5)]({
        fileId: _0x366f63,
        toGroupId: _0x2e1bb2,
        toFileId: _0x47a4c2
    }) {
        const _0x25de26 = _0x2ccd4c, _0x17f825 = {
                'fAHxg': function (_0x1f55c9, _0x1f6600) {
                    return _0x1f55c9 === _0x1f6600;
                },
                'yNDbv': function (_0x5492d8, _0x7a27df) {
                    return _0x5492d8(_0x7a27df);
                },
                'dcEhN': _0x25de26(0xc9),
                'pqlnd': _0x25de26(0x90),
                'xzfOL': function (_0x204e6c, _0x2f0d3f) {
                    return _0x204e6c(_0x2f0d3f);
                },
                'MmNdH': _0x25de26(0xb6),
                'PvEOM': _0x25de26(0xd8),
                'ntlpr': _0x25de26(0xbc) + '移动',
                'SqUII': _0x25de26(0xd6)
            };
        let _0x5c8c88 = {};
        const _0x5d81eb = await this[_0x25de26(0xcf)][_0x25de26(0xd5)](_0x366f63);
        if (_0x2e1bb2) {
            if (!_0x5d81eb[_0x25de26(0xe1)]) {
                if (_0x17f825[_0x25de26(0xb8)](_0x5d81eb[_0x25de26(0xe4)], _0x17f825[_0x25de26(0xa0)](Number, _0x2e1bb2)))
                    return _0x5c8c88 = {
                        'data': _0x17f825[_0x25de26(0x9c)],
                        'message': _0x17f825[_0x25de26(0xda)]
                    }, _0x5c8c88;
                else {
                    const {id: _0x42aa66} = await this[_0x25de26(0xcf)][_0x25de26(0xb5)]({
                        'fileId': _0x366f63,
                        'extName': _0x5d81eb[_0x25de26(0xa6)],
                        'groupId': _0x17f825[_0x25de26(0xb1)](Number, _0x2e1bb2),
                        'parentId': null
                    });
                    return _0x5c8c88 = {
                        'data': _0x42aa66,
                        'message': _0x17f825[_0x25de26(0xbd)]
                    }, _0x5c8c88;
                }
            } else {
                const {id: _0x22ac4d} = await this[_0x25de26(0xcf)][_0x25de26(0xb5)]({
                    'fileId': _0x366f63,
                    'extName': _0x5d81eb[_0x25de26(0xa6)],
                    'groupId': _0x17f825[_0x25de26(0xb1)](Number, _0x2e1bb2),
                    'parentId': null
                });
                return _0x5c8c88 = {
                    'data': _0x22ac4d,
                    'msg': _0x17f825[_0x25de26(0xc0)]
                }, _0x5c8c88;
            }
        }
        if (_0x47a4c2) {
            const _0x2100d0 = await this[_0x25de26(0xcf)][_0x25de26(0xd5)](_0x47a4c2), _0x2df1fa = await this[_0x25de26(0xcf)][_0x25de26(0xbf)]({ 'groupIds': [_0x2100d0[_0x25de26(0xe4)]] }), _0x292290 = this[_0x25de26(0x93) + 't'](_0x2100d0['id'], _0x2df1fa);
            if (_0x5d81eb[_0x25de26(0xe1)] && _0x292290[_0x25de26(0xdb)](_0x3b7f47 => _0x3b7f47 === _0x5d81eb['id']) || _0x17f825[_0x25de26(0xb8)](_0x5d81eb[_0x25de26(0xe1)], _0x2100d0['id']))
                return _0x5c8c88 = {
                    'data': _0x17f825[_0x25de26(0xd1)],
                    'message': _0x17f825[_0x25de26(0xda)]
                }, _0x5c8c88;
            else {
                const {id: _0x3b8772} = await this[_0x25de26(0xcf)][_0x25de26(0xb5)]({
                    'fileId': _0x366f63,
                    'extName': _0x5d81eb[_0x25de26(0xa6)],
                    'groupId': _0x2100d0[_0x25de26(0xe4)],
                    'parentId': _0x2100d0['id']
                });
                return _0x5c8c88 = {
                    'data': _0x3b8772,
                    'message': _0x17f825[_0x25de26(0xca)]
                }, _0x5c8c88;
            }
        }
    }
    [_0x2ccd4c(0x93) + 't'](_0x1d57ac, _0x329683) {
        const _0x1fab46 = _0x2ccd4c, _0x42d444 = {
                'hwxUi': function (_0x5e47a1, _0x3988c9) {
                    return _0x5e47a1 === _0x3988c9;
                },
                'JzSVB': function (_0x37720e, _0x1774d2, _0xd951da) {
                    return _0x37720e(_0x1774d2, _0xd951da);
                }
            }, _0x24df53 = [];
        function _0x143041(_0x30f1e7, _0x5cb03a) {
            const _0x4500bb = _0x9fe8;
            _0x5cb03a[_0x4500bb(0xb9)](_0x3ffa19 => {
                const _0x5b7672 = _0x4500bb;
                _0x42d444[_0x5b7672(0xaf)](_0x3ffa19['id'], _0x30f1e7) && (_0x24df53[_0x5b7672(0xb2)](_0x3ffa19['id']), _0x42d444[_0x5b7672(0xa9)](_0x143041, _0x3ffa19[_0x5b7672(0xe1)], _0x5cb03a));
            });
        }
        return _0x42d444[_0x1fab46(0xa9)](_0x143041, _0x1d57ac, _0x329683), _0x24df53;
    }
    async [_0x2ccd4c(0xe8) + _0x2ccd4c(0xab)](_0x33037d) {
        const _0x213909 = _0x2ccd4c;
        return this[_0x213909(0xcf)][_0x213909(0xe8) + _0x213909(0xab)](_0x33037d);
    }
    async [_0x2ccd4c(0x97) + _0x2ccd4c(0xe2) + _0x2ccd4c(0xdf)](_0x54f2af) {
        const _0x1a1ef9 = _0x2ccd4c, _0x10bab6 = await this[_0x1a1ef9(0xcf)][_0x1a1ef9(0x97) + _0x1a1ef9(0xe2) + _0x1a1ef9(0xdf)](_0x54f2af['id'], _0x54f2af[_0x1a1ef9(0xc2) + _0x1a1ef9(0xdf)]);
        return _0x10bab6;
    }
};
FileService = __decorate([
    (0x3 * 0x8d9 + -0x7cd * -0x2 + 0x2a25 * -0x1, common_1[_0x2ccd4c(0xae)])(),
    __metadata(_0x2ccd4c(0xe5) + _0x2ccd4c(0x9a), [])
], FileService), exports[_0x2ccd4c(0xc1)] = FileService;
function _0x4462() {
    const _0x2ad173 = [
        'mmon',
        '259070TvvLsu',
        'AmXAS',
        'HnKyd',
        'fileDao',
        '6RHOaeD',
        'ntlpr',
        'ptor',
        'PxyYD',
        '9385880BbjqVu',
        'queryById',
        '移动成功3',
        '5397176NvwOOS',
        '移动成功2',
        'getAllShar',
        'pqlnd',
        'find',
        'RLzQS',
        'fileConten',
        'dnjXW',
        'annel',
        'tDao',
        'parentId',
        'DeliveryCh',
        'eFiles',
        'groupId',
        'design:par',
        '24877vVgFyR',
        'metadata',
        'getCountOf',
        '移动失败',
        '__esModule',
        '16407230ClnfnR',
        '_findParen',
        'filePubDao',
        'length',
        'object',
        'modifyFile',
        'OGiTc',
        'wlLLV',
        'amtypes',
        'WSLYB',
        'dcEhN',
        '3809103focTBt',
        'VKgTX',
        'defineProp',
        'yNDbv',
        '__decorate',
        '14vexRGY',
        'letTu',
        'IRfKc',
        'function',
        'extName',
        '90nRjTCI',
        'decorate',
        'JzSVB',
        'filePub.da',
        'UserAndExt',
        '__metadata',
        '../../dao/',
        'Injectable',
        'hwxUi',
        'YlRmz',
        'xzfOL',
        'unshift',
        'KYhEu',
        'Adyot',
        'moveFile',
        '移动成功1',
        'ShareFiles',
        'fAHxg',
        'forEach',
        '199704ozlZae',
        'FileConten',
        '在自身文件夹下，无法',
        'MmNdH',
        'FileDao',
        'getFiles',
        'PvEOM',
        'default',
        'deliveryCh',
        'erty',
        'ertyDescri',
        'cEWnl',
        '@nestjs/co',
        'edJCp',
        'getOwnProp',
        '已在当前协作组下',
        'SqUII'
    ];
    _0x4462 = function () {
        return _0x2ad173;
    };
    return _0x4462();
}