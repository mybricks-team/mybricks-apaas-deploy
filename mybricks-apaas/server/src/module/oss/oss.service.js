'use strict';
var _0x2fcbdf = _0x747f;
function _0x747f(_0x2a525e, _0x3e9b67) {
    var _0x73964f = _0x5723();
    return _0x747f = function (_0x1c2106, _0x485be4) {
        _0x1c2106 = _0x1c2106 - (-0x13f * 0x7 + -0x4ff + 0xefb);
        var _0xd2642 = _0x73964f[_0x1c2106];
        return _0xd2642;
    }, _0x747f(_0x2a525e, _0x3e9b67);
}
(function (_0x2f8d7e, _0xb7d0fd) {
    var _0x17a25f = _0x747f, _0x129a0c = _0x2f8d7e();
    while (!![]) {
        try {
            var _0x145e25 = -parseInt(_0x17a25f(0x16a)) / (0x17e + -0xde5 + 0xc68) * (parseInt(_0x17a25f(0x156)) / (-0x5 * 0x283 + 0xd33 + -0xa2)) + -parseInt(_0x17a25f(0x160)) / (0xeb0 + 0x2e * -0x77 + 0x6b5) + parseInt(_0x17a25f(0x18f)) / (0x1 * -0x763 + -0x25a6 + 0x1 * 0x2d0d) * (parseInt(_0x17a25f(0x16d)) / (-0x1d * 0xbf + -0x11bf + 0x2767)) + parseInt(_0x17a25f(0x14e)) / (0x24cb * 0x1 + -0x48b + -0x203a) + -parseInt(_0x17a25f(0x15b)) / (-0x1333 + 0x1 * 0x256a + -0x1230) + -parseInt(_0x17a25f(0x179)) / (0x748 + -0x1f7e + -0x2 * -0xc1f) * (-parseInt(_0x17a25f(0x174)) / (0xbaf + 0x22 * 0x10d + 0xbd8 * -0x4)) + parseInt(_0x17a25f(0x19e)) / (-0x8 * 0x7f + -0x25ff + 0x2a01 * 0x1);
            if (_0x145e25 === _0xb7d0fd)
                break;
            else
                _0x129a0c['push'](_0x129a0c['shift']());
        } catch (_0xebd4af) {
            _0x129a0c['push'](_0x129a0c['shift']());
        }
    }
}(_0x5723, -0xe1f8e + -0x2bda7 * 0x2 + 0x1d9444));
function _0x5723() {
    var _0x4f9460 = [
        'status',
        'ertySymbol',
        'eINPm',
        'gOwtU',
        '上传\x20OSS\x20失败!',
        'toString',
        'kfOWX',
        'jcISt',
        'url',
        'region',
        'info',
        'saveFile',
        '4XzBEze',
        'hzmcr',
        'accessKeyI',
        'design:par',
        'HESny',
        'cdnDomain',
        'from',
        'tUmhx',
        'split',
        'sTYat',
        'propertyIs',
        'mons',
        'res',
        '__esModule',
        'Enumerable',
        '4622530ywxmLQ',
        'hasOwnProp',
        '__metadata',
        'loavw',
        'oxSuI',
        'sMiMK',
        'Bxtzp',
        'Injectable',
        'name',
        'rwRVj',
        'ali-oss',
        'JyUqn',
        'decorate',
        'default',
        'function',
        'config',
        'defineProp',
        'metadata',
        'bmcxe',
        '__rest',
        'put',
        'SUupm',
        'rocker-com',
        'getConfig',
        '4868382GTbXYk',
        'zavdM',
        'lGvMo',
        'amtypes',
        'ss-config',
        'mybricks-o',
        'stack',
        'path',
        '1148618QRBFDb',
        'gcYzb',
        '__decorate',
        'forEach',
        'length',
        '3569111cfKzfa',
        'message',
        'call',
        'mpqXR',
        'YlCLk',
        '3282228oiXMTK',
        'prototype',
        'PwnfG',
        'arSYI',
        'Logger',
        'erty',
        'WPuos',
        'object',
        'configDao',
        'DQlir',
        '1UbQIDC',
        'gFBOq',
        'FweIn',
        '5265485CiVpjp',
        'buffer',
        '@nestjs/co',
        './../../da',
        'getOwnProp',
        'SkthJ',
        'ywzWd',
        '9SQCFwh',
        'ptor',
        '@mybricks/',
        'accessKeyS',
        'unHIR',
        '4041464FRUQEa',
        'mmon',
        'indexOf',
        'Uelua',
        'bucket',
        'ertyDescri',
        'wbjmQ',
        'getOssConf',
        'o/config.d',
        'ecret'
    ];
    _0x5723 = function () {
        return _0x4f9460;
    };
    return _0x5723();
}
var __decorate = this && this[_0x2fcbdf(0x158)] || function (_0x22f7e6, _0xc2c796, _0x48f05e, _0x184f86) {
        var _0x50cdc9 = _0x2fcbdf, _0x4b45de = {
                'lGvMo': function (_0x5b781b, _0x32b8f1) {
                    return _0x5b781b < _0x32b8f1;
                },
                'sTYat': function (_0x4c24be, _0x251da6) {
                    return _0x4c24be === _0x251da6;
                },
                'wbjmQ': function (_0x8cae60, _0x5a461a) {
                    return _0x8cae60 === _0x5a461a;
                },
                'oxSuI': _0x50cdc9(0x167),
                'DQlir': function (_0x1ac07e, _0x14af12) {
                    return _0x1ac07e === _0x14af12;
                },
                'gOwtU': _0x50cdc9(0x144),
                'Bxtzp': function (_0x4622fe, _0x36bf0e) {
                    return _0x4622fe - _0x36bf0e;
                },
                'gcYzb': function (_0x12f275, _0x20d357) {
                    return _0x12f275 >= _0x20d357;
                },
                'mpqXR': function (_0x32dc66, _0x33d808) {
                    return _0x32dc66(_0x33d808);
                },
                'arSYI': function (_0x3edf5d, _0x3b532e) {
                    return _0x3edf5d > _0x3b532e;
                },
                'unHIR': function (_0x386cf4, _0x2c5227, _0xc2b320, _0x15602b) {
                    return _0x386cf4(_0x2c5227, _0xc2b320, _0x15602b);
                },
                'ywzWd': function (_0x58bb11, _0x513fcb, _0x3a848a) {
                    return _0x58bb11(_0x513fcb, _0x3a848a);
                }
            }, _0x267874 = arguments[_0x50cdc9(0x15a)], _0x4506cb = _0x4b45de[_0x50cdc9(0x150)](_0x267874, 0x2 * 0x3cb + -0xf5 * 0x25 + 0xe * 0x1fd) ? _0xc2c796 : _0x4b45de[_0x50cdc9(0x198)](_0x184f86, null) ? _0x184f86 = Object[_0x50cdc9(0x171) + _0x50cdc9(0x17e) + _0x50cdc9(0x175)](_0xc2c796, _0x48f05e) : _0x184f86, _0x505250;
        if (_0x4b45de[_0x50cdc9(0x17f)](typeof Reflect, _0x4b45de[_0x50cdc9(0x1a2)]) && _0x4b45de[_0x50cdc9(0x169)](typeof Reflect[_0x50cdc9(0x1aa)], _0x4b45de[_0x50cdc9(0x186)]))
            _0x4506cb = Reflect[_0x50cdc9(0x1aa)](_0x22f7e6, _0xc2c796, _0x48f05e, _0x184f86);
        else {
            for (var _0x38b7e7 = _0x4b45de[_0x50cdc9(0x1a4)](_0x22f7e6[_0x50cdc9(0x15a)], -0xa * 0x287 + -0x3 * -0x1dc + -0x3 * -0x691); _0x4b45de[_0x50cdc9(0x157)](_0x38b7e7, 0xac * -0x9 + 0x22 * -0x121 + 0x2c6e); _0x38b7e7--)
                if (_0x505250 = _0x22f7e6[_0x38b7e7])
                    _0x4506cb = (_0x4b45de[_0x50cdc9(0x150)](_0x267874, -0x1434 + 0x1db6 + -0x97f) ? _0x4b45de[_0x50cdc9(0x15e)](_0x505250, _0x4506cb) : _0x4b45de[_0x50cdc9(0x163)](_0x267874, 0x106f * -0x1 + 0x2024 + 0x2 * -0x7d9) ? _0x4b45de[_0x50cdc9(0x178)](_0x505250, _0xc2c796, _0x48f05e, _0x4506cb) : _0x4b45de[_0x50cdc9(0x173)](_0x505250, _0xc2c796, _0x48f05e)) || _0x4506cb;
        }
        return _0x4b45de[_0x50cdc9(0x163)](_0x267874, 0x183 + 0x1959 + 0x4f * -0x57) && _0x4506cb && Object[_0x50cdc9(0x146) + _0x50cdc9(0x165)](_0xc2c796, _0x48f05e, _0x4506cb), _0x4506cb;
    }, __metadata = this && this[_0x2fcbdf(0x1a0)] || function (_0x160375, _0x505cc9) {
        var _0x569ada = _0x2fcbdf, _0x221fc1 = {
                'kfOWX': function (_0x38d3b4, _0x54a14b) {
                    return _0x38d3b4 === _0x54a14b;
                },
                'loavw': _0x569ada(0x167),
                'eINPm': _0x569ada(0x144)
            };
        if (_0x221fc1[_0x569ada(0x189)](typeof Reflect, _0x221fc1[_0x569ada(0x1a1)]) && _0x221fc1[_0x569ada(0x189)](typeof Reflect[_0x569ada(0x147)], _0x221fc1[_0x569ada(0x185)]))
            return Reflect[_0x569ada(0x147)](_0x160375, _0x505cc9);
    }, __rest = this && this[_0x2fcbdf(0x149)] || function (_0x2e4bb2, _0x5f2a4f) {
        var _0x21557c = _0x2fcbdf, _0xe532f0 = {
                'tUmhx': function (_0x5179e6, _0x2915c2) {
                    return _0x5179e6 < _0x2915c2;
                },
                'PwnfG': function (_0xcdf6cb, _0x11668d) {
                    return _0xcdf6cb != _0x11668d;
                },
                'HESny': function (_0x588d50, _0x53533c) {
                    return _0x588d50 === _0x53533c;
                },
                'rwRVj': _0x21557c(0x144),
                'WPuos': function (_0x3b1d05, _0x4820b8) {
                    return _0x3b1d05 < _0x4820b8;
                }
            }, _0x411ccd = {};
        for (var _0xc23dfb in _0x2e4bb2)
            if (Object[_0x21557c(0x161)][_0x21557c(0x19f) + _0x21557c(0x165)][_0x21557c(0x15d)](_0x2e4bb2, _0xc23dfb) && _0xe532f0[_0x21557c(0x196)](_0x5f2a4f[_0x21557c(0x17b)](_0xc23dfb), 0x1 * -0x1803 + 0xa53 + 0xdb0))
                _0x411ccd[_0xc23dfb] = _0x2e4bb2[_0xc23dfb];
        if (_0xe532f0[_0x21557c(0x162)](_0x2e4bb2, null) && _0xe532f0[_0x21557c(0x193)](typeof Object[_0x21557c(0x171) + _0x21557c(0x184) + 's'], _0xe532f0[_0x21557c(0x1a7)]))
            for (var _0x5e7601 = -0x5e5 + 0x2 * -0x4e4 + 0xfad, _0xc23dfb = Object[_0x21557c(0x171) + _0x21557c(0x184) + 's'](_0x2e4bb2); _0xe532f0[_0x21557c(0x196)](_0x5e7601, _0xc23dfb[_0x21557c(0x15a)]); _0x5e7601++) {
                if (_0xe532f0[_0x21557c(0x166)](_0x5f2a4f[_0x21557c(0x17b)](_0xc23dfb[_0x5e7601]), 0x49f * 0x4 + -0xd88 + -0x4f4) && Object[_0x21557c(0x161)][_0x21557c(0x199) + _0x21557c(0x19d)][_0x21557c(0x15d)](_0x2e4bb2, _0xc23dfb[_0x5e7601]))
                    _0x411ccd[_0xc23dfb[_0x5e7601]] = _0x2e4bb2[_0xc23dfb[_0x5e7601]];
            }
        return _0x411ccd;
    };
Object[_0x2fcbdf(0x146) + _0x2fcbdf(0x165)](exports, _0x2fcbdf(0x19c), { 'value': !![] });
const rocker_commons_1 = require(_0x2fcbdf(0x176) + _0x2fcbdf(0x14c) + _0x2fcbdf(0x19a)), common_1 = require(_0x2fcbdf(0x16f) + _0x2fcbdf(0x17a)), OSS = require(_0x2fcbdf(0x1a8)), config_dao_1 = require(_0x2fcbdf(0x170) + _0x2fcbdf(0x181) + 'ao');
let OssService = class OssService {
    constructor() {
        var _0x185c80 = _0x2fcbdf;
        this[_0x185c80(0x168)] = new config_dao_1[(_0x185c80(0x143))]();
    }
    async [_0x2fcbdf(0x180) + 'ig']() {
        var _0x26dabe = _0x2fcbdf, _0x344ff7 = {
                'FweIn': _0x26dabe(0x153) + _0x26dabe(0x152),
                'zavdM': function (_0x396c15, _0x49b73c) {
                    return _0x396c15 === _0x49b73c;
                },
                'sMiMK': function (_0x4fdfe3, _0x413cfc) {
                    return _0x4fdfe3 === _0x413cfc;
                }
            }, _0x4b4a8d;
        const _0xcc213f = await this[_0x26dabe(0x168)][_0x26dabe(0x14d)]({ 'namespace': [_0x344ff7[_0x26dabe(0x16c)]] });
        return _0x344ff7[_0x26dabe(0x14f)](_0x4b4a8d = _0x344ff7[_0x26dabe(0x1a3)](_0xcc213f, null) || _0x344ff7[_0x26dabe(0x1a3)](_0xcc213f, void (0xce * -0xe + -0x13c6 + 0x112 * 0x1d)) ? void (-0x2 * 0x835 + -0x1878 + -0x2 * -0x1471) : _0xcc213f[0x21 * 0x42 + -0x3df * -0x5 + -0x7 * 0x3fb], null) || _0x344ff7[_0x26dabe(0x14f)](_0x4b4a8d, void (-0x2 * 0xd5d + -0xd5b + 0x2815)) ? void (-0xd0c + -0x4 * 0x38b + 0x1b38) : _0x4b4a8d[_0x26dabe(0x145)];
    }
    async [_0x2fcbdf(0x18e)](_0x33d663, _0x16f2f4 = {}) {
        var _0x410933 = _0x2fcbdf, _0x259e54 = {
                'hzmcr': function (_0x5059d5, _0x289c91, _0x427169) {
                    return _0x5059d5(_0x289c91, _0x427169);
                },
                'SUupm': _0x410933(0x194),
                'YlCLk': function (_0x4d63ad, _0x3d29f1) {
                    return _0x4d63ad === _0x3d29f1;
                },
                'jcISt': function (_0x27b73e, _0x29dcad) {
                    return _0x27b73e === _0x29dcad;
                },
                'gFBOq': function (_0x55e338, _0x4132cb) {
                    return _0x55e338 + _0x4132cb;
                },
                'Uelua': function (_0x183028, _0x4c3e00) {
                    return _0x183028 === _0x4c3e00;
                },
                'SkthJ': _0x410933(0x187),
                'JyUqn': function (_0x38322f, _0x2736dd) {
                    return _0x38322f === _0x2736dd;
                },
                'bmcxe': function (_0x11261c, _0xa0ec0) {
                    return _0x11261c === _0xa0ec0;
                }
            }, _0x47cb5b, _0xff200c;
        const {cdnDomain: _0x560287} = _0x16f2f4, _0x47aacd = _0x259e54[_0x410933(0x190)](__rest, _0x16f2f4, [_0x259e54[_0x410933(0x14b)]]), _0xc190f4 = new OSS({
                'region': _0x47aacd[_0x410933(0x18c)],
                'accessKeyId': _0x47aacd[_0x410933(0x191) + 'd'],
                'accessKeySecret': _0x47aacd[_0x410933(0x177) + _0x410933(0x182)],
                'bucket': _0x47aacd[_0x410933(0x17d)]
            });
        try {
            let _0x119500 = '';
            _0x259e54[_0x410933(0x15f)](_0x47cb5b = _0x259e54[_0x410933(0x15f)](_0x33d663, null) || _0x259e54[_0x410933(0x15f)](_0x33d663, void (-0x672 + 0x204 * -0xf + 0x24ae)) ? void (0x913 + -0x7c + -0x1 * 0x897) : _0x33d663[_0x410933(0x155)], null) || _0x259e54[_0x410933(0x18a)](_0x47cb5b, void (0x21c5 + 0x4 * 0x64 + -0x14f * 0x1b)) ? void (0x2470 * 0x1 + -0x1 * 0x4cb + -0x1fa5) : _0x47cb5b[_0x410933(0x197)]('/')[_0x410933(0x159)](_0x502e70 => {
                _0x119500 += _0x502e70 + '/';
            });
            const _0xf91127 = await _0xc190f4[_0x410933(0x14a)](_0x259e54[_0x410933(0x16b)](_0x119500, _0x33d663[_0x410933(0x1a6)]), Buffer[_0x410933(0x195)](_0x33d663[_0x410933(0x16e)]));
            if (_0x259e54[_0x410933(0x17c)](_0xf91127[_0x410933(0x19b)][_0x410933(0x183)], 0x1eae + -0x3a + -0x1dac))
                return {
                    'name': _0xf91127[_0x410933(0x1a6)],
                    'url': _0xf91127[_0x410933(0x18b)]
                };
            else
                throw new Error(_0x259e54[_0x410933(0x172)]);
        } catch (_0x59dc42) {
            rocker_commons_1[_0x410933(0x164)][_0x410933(0x18d)](_0x59dc42[_0x410933(0x15c)]), rocker_commons_1[_0x410933(0x164)][_0x410933(0x18d)](_0x259e54[_0x410933(0x1a9)](_0xff200c = _0x259e54[_0x410933(0x148)](_0x59dc42, null) || _0x259e54[_0x410933(0x17c)](_0x59dc42, void (0x4 * -0xce + -0x1 * -0x366 + -0x2e)) ? void (-0x159a + -0x1 * 0x1ce + 0x2ed * 0x8) : _0x59dc42[_0x410933(0x154)], null) || _0x259e54[_0x410933(0x15f)](_0xff200c, void (0xe5 * 0x1d + -0x164e + 0x1 * -0x3a3)) ? void (0x797 + 0x18a4 + -0x203b * 0x1) : _0xff200c[_0x410933(0x188)]());
            throw _0x59dc42;
        }
    }
};
OssService = __decorate([
    (0x191 * -0xc + -0x1 * 0x1989 + -0x4ed * -0x9, common_1[_0x2fcbdf(0x1a5)])(),
    __metadata(_0x2fcbdf(0x192) + _0x2fcbdf(0x151), [])
], OssService), exports[_0x2fcbdf(0x143)] = OssService;